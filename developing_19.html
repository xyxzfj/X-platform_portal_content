<!doctype html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>通话和短信功能</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="css/templete.css" type="text/css" media="all" />
    <meta charset="UTF-8">
</head>
<body class="level-2">
    <div class="wrapper">
        <!--Begin header-->
        <div class="header">
            <div class="grid-container clearfix">
                <div class="header-left">
                    <img alt="Microsoft" src="http://i.s-microsoft.com/global/ImageStore/PublishingImages/logos/hp/logo-lg-1x.png" width="94" height="20">
                    <h1>X-Platform</h1>
                </div>
                <div id="mscom-search" class="mscom-search" style="margin-top: 37px;">
                    <div class="search-form">
                        <form action="" id="search-form">
                            <div class="input-wrapper">
                                <label class="screen-reader-text" for="search-input">搜索 Microsoft.com</label>
                                <input id="search-input" type="text" class="input-area" autocomplete="off">
                            </div>
                            <button class="search-submit" id="search-btn" type="submit">
                                <img width="16" height="16" alt="Submit" src="http://i.s-microsoft.com/global/imagestore/PublishingImages/sprites/search-button-blue.png"></button>
                        </form>
                    </div>
                    <div class="search-results-box" id="results">
                        <div class="search-scope">
                            <ul>
                                <li class=""><a class="checked" search="microsoft" role="search">搜索 Microsoft.com</a></li>
                                <li class=""><a search="internet" role="search">搜索互联网</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--End header-->
        <br />
        <!--Begin Content-->
        <div class="content">
            <div class="wrapper">
                <div class="wrapper-header">
                    <div>
                        <a href="index.html">
                            <img src="./assets/image/banner_1.jpg"></a>
                    </div>
                </div>
                <div class="main">
                    <div class="nav">
                        <div class="block article-nav-block">
                            <h2>移动应用开发生命周期</h2>
                            <div class="menu">
                                <h3><a href="idea.html">计划<span>Idea/Planning</span></a></h3>
                                <ul>
                                    <li><a href="idea_01.html">平台总览</a></li>
                                    <li><a href="idea_02.html">开发工具、开发环境和模拟器</a></li>
                                    <li><a href="idea_03.html">应用结构和生命周期</a></li>
                                </ul>
                            </div>
                            <div class="menu">
                                <h3><a href="design.html">设计<span>Design</span></a></h3>
                                <ul>
                                    <li><a href="design_01.html">UI Layout的设计</a></li>
                                    <li><a href="design_02.html">UI的控件</a></li>
                                    <li><a href="design_03.html">UI页面的控制和导航</a></li>
                                    <li><a href="design_04.html">不同屏幕尺寸和分辨率的适配</a></li>
                                    <li><a href="design_05.html">第三方SDK</a></li>
                                    <li><a href="design_06.html">游戏开发</a></li>
                                </ul>
                            </div>
                            <div class="menu active">
                                <h3><a href="developing.html">开发<span>Developing</span></a></h3>
                                <ul>
                                    <li><a href="developing_01.html">开发语言</a></li>
                                    <li><a href="developing_02.html">Audio、Video Player应用的开发</a></li>
                                    <li><a href="developing_03.html">General APIs Mapping</a></li>
                                    <li><a href="developing_04.html">IAP应用内支付</a></li>
                                    <li><a href="developing_05.html">LBS应用</a></li>
                                    <li><a href="developing_06.html">LBS、镜头和传感器应用接口使用</a></li>
                                    <li><a href="developing_07.html">Native Code（C和C++）支持</a></li>
                                    <li><a href="developing_08.html">Push Notification</a></li>
                                    <li><a href="developing_09.html">Sharing in Social Network</a></li>
                                    <li><a href="developing_10.html">Source Code Control</a></li>
                                    <li><a href="developing_11.html">UI上的Data Binding</a></li>
                                    <li><a href="developing_12.html">Windows 8.1和WP 8 Sharing应用分享功能实现</a></li>
                                    <li><a href="developing_13.html">多媒体</a></li>
                                    <li><a href="developing_14.html">后台任务和多任务处理</a></li>
                                    <li><a href="developing_15.html">获取后台服务器数据</a></li>
                                    <li><a href="developing_16.html">浏览器控件WebView</a></li>
                                    <li><a href="developing_17.html">数据库（SQLite）</a></li>
                                    <li><a href="developing_18.html">数据网络和数据通讯</a></li>
                                    <li><a href="developing_19.html">通话和短信功能</a></li>
                                    <li><a href="developing_20.html">图形处理(Drawing & Animation)</a></li>
                                    <li><a href="developing_21.html">文件系统和应用设置</a></li>
                                    <li><a href="developing_22.html">应用间通信</a></li>
                                    <li><a href="developing_23.html">支付方式</a></li>
                                    <li><a href="developing_24.html">Windows 8.1应用外设开发</a></li>
                                </ul>
                            </div>
                            <div class="menu">
                                <h3><a href="testing.html">测试<span>Testing</span></a></h3>
                                <ul>
                                    <li><a href="testing_01.html">Windows 8 and WP 8开发FAQ</a></li>
                                </ul>
                            </div>
                            <div class="menu last">
                                <h3><a href="distribute.html">发布<span>Distribute</span></a></h3>
                                <ul>
                                    <li><a href="distribute_01.html">应用商店(发布和更新应用)</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="block success-story-nav-block">
                            <h2>成功案例</h2>
                        </div>
                        <div class="block others">
                            <a href="sample_code.html" class="left">示例代码</a>
                            <a href="http://msdn.microsoft.com/zh-cn/dn473954" class="right">教学视频</a>
                        </div>
                    </div>
                    <div class="content">
                        <h3 class="title">Telephony Function<span><a href="index.html">返回首页&gt;</a></span></h3>
                        <div class="article-content">
                            <div class="WordSection1">
                                <p class="MsoToc1"><a href="#_Toc372628415">概述</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628416">启动器和选择器</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628417">注意事项</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628418">使用电话功能</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628419">概述</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628420">使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628421">IOS中使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628422">Android中使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628423">Window Phone中使用</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628424">注意事项</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628425">使用短信功能</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628426">概述</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628427">使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628428">IOS中的使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628429">Android中的使用</a></p>
                                <p class="MsoToc3"><a href="#_Toc372628430">Windows Phone中的使用</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628431">注意事项</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628432">使用浏览器</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628433">Android</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628434">IOS</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628435">Windows phone</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628436">打开电子邮件应用</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628437">Android</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628438">IOS</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628439">Windows phone</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628440">操作电话簿</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628441">Android</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628442">IOS</a></p>
                                <p class="MsoToc2"><a href="#_Toc372628443">Windows phone 8</a></p>
                                <p class="MsoToc1"><a href="#_Toc372628444">另请参见</a></p>
                                <br />
                                <h1><a name="_Toc372628415">概述</a></h1>
                                <p>
                                    在开发应用时，我们经常遇到需要调用系统内置的应用来完成一些功能，如拨打电话、发送短信和电子邮件、选择联系人等。Android中利用Intend不仅可以调用同意应用程序内Activity，也可以调用系统内置或第三方应用的Activity。IOS中通过<a
                                        href="http://wiki.akosma.com/IPhone_URL_Schemes#Registering_your_own_URL_schemes">URL</a>方案调用内置应用。而windows
phone 中引入了启动器和选择器的概念，通过使用启动器和选择器调用系统内置应用，Microsoft.Phone.Tasks命名空间中包含了调用内置应用完成各种功能的Task类型。
                                </p>
                                <p>以下表格列出不同平台中，实现调用内置应用程序的实现方案：</p>
                                <div align="center">
                                    <table>
                                        <tr>
                                            <td>
                                                <p style='text-align: center'>Android</p>
                                            </td>
                                            <td>
                                                <p style='text-align: center'>IOS</p>
                                            </td>
                                            <td>
                                                <p style='text-align: center'>Windows phone</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <p style='text-align: center'>利用Intent以及Action参数实现</p>
                                            </td>
                                            <td>
                                                <p style='text-align: center'>利用URL方案，通过设置不同URL实现</p>
                                            </td>
                                            <td>
                                                <p style='text-align: center'>利用启动器和选择器，通过具体Task类型实现</p>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <p>通过调用内置应用程序，我们可以实现拨打电话、发送短信和电子邮件、选择联系人等功能，这些功能在三种平台上均有相应的实现方法，只是复杂程度不同而已。以下首先介绍windows phone 中的启动器和选择器，然后针对一些常用功能进行详细介绍。</p>
                                <h1><a name="_Toc372628416">启动器和选择器</a></h1>
                                <p>您可以在 Windows Phone 应用程序中使用启动器和选择器，以使用户能够与系统内置的应用程序进行交互，如发送短信、选择本地图片、选择电子邮件地址等。使用启动器和选择器，可以帮助您在 Windows Phone 平台中提供一致的用户体验。同时，使用启动器和选择器，您还可以通过提供附加功能令您的应用程序与众不同。</p>
                                <p>“启动器”是一种启动某个内置应用程序（如“联系人”应用程序或 Web 浏览器）的 API，用户可通过它完成任务。当出现新应用程序时，用户可以选择完成或取消任务。当用户关闭新应用程序时，通常会重新激活正在调用的应用程序。启动器任务的示例包括撰写电子邮件、在社交网络上共享链接，以及在浏览器中打开特定网站。</p>
                                <p><i>“选择器”</i>是一种启动某个内置应用程序（如“联系人”应用程序或相机）的 API，用户可通过它完成任务。当出现新应用程序时，用户可以选择完成或取消任务。当用户关闭新应用程序时，通常会重新激活正在调用的应用程序并向其提供数据和状态。选择器任务的示例包括选择联系人电子邮件地址、选择手机中的照片，以及保存新的铃声。</p>
                                <p>Android和IOS没有启动器和选择器概念，但是也提供了相应的调用系统内置应用程序的方法。</p>
                                <p>使用启动器的一般步骤如下：</p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    1.&nbsp;
创建一个启动器任务类型的实例。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    2.&nbsp;
设置任何必需和可选的任务对象属性。这些属性决定着任务应用程序在调用时的行为。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    3.&nbsp;
调用任务对象的 Show 方法。
                                </p>
                                <p>使用选择器的一般步骤如下：</p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    1.&nbsp;
创建选择器任务类型的实例。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    2.&nbsp;
标识要在用户完成任务后运行的回调方法。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    3.&nbsp;
设置任何必需和可选的任务对象属性。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    4.&nbsp;
调用任务对象的 Show 方法。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    5.&nbsp;
实现已完成事件处理程序，以在用户完成任务后捕获数据和状态。
                                </p>
                                <h2><a name="_Toc372628417">注意事项</a></h2>
                                <p>使用启动器与选择器需要注意一下事项：</p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    l&nbsp;
启动器不会向应用程序返回数据或状态。
                                </p>
                                <p class="MsoListParagraph" style='margin-left: 21.0pt;'>
                                    l&nbsp;
选择器可向应用程序返回数据和状态。但是，如果用户在新应用程序打开时按下“开始”按键，正在调用的应用程序可能永远无法重新激活。
                                </p>
                                <p>特别需要注意的是，Windows Phone 应用程序开发人员通常（尤其是在使用启动器和选择器时）需要考虑的一个重要概念是，正在调用的应用程序在另一个应用程序启动时会被置于休眠状态或被逻辑删除。</p>
                                <p>在新任务应用程序启动时，您的应用程序会被取消激活并且不再运行。通常，操作系统会将您的应用程序置于休眠状态。在完成任务之后，用户可以返回到您的保留在内存中的应用程序，并且该应用程序会恢复为新应用程序启动之前的状态。但是，操作系统也可能会终止您的应用程序。在这种情况下，如果用户返回到您的应用程序，则它将是一个新实例，而且应用程序的状态不会自动恢复。</p>
                                <h1><a name="_Toc372628418">使用电话功能</a></h1>
                                <h2><a name="_Toc372628419">概述</a></h2>
                                <p>使用通话任务可使用户能够通过您的应用程序拨打电话。通话任务启动“手机”应用程序并显示您指定的手机号码和显示名称。只有当用户按下呼叫按钮之后，才会发起电话呼叫。</p>
                                <h2><a name="_Toc372628420">使用</a></h2>
                                <h3><a name="_Toc372628421">IOS中使用</a></h3><pre><code>[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"tel://8004664411"]];</code></pre>
                                <h3><a name="_Toc372628422">Android中使用</a></h3><pre><code>String mobile = mobileText.getText().toString();  
// 使用系统的电话拨号服务，必须去声明权限，在AndroidManifest.xml中进行声明  
Intent intent = new Intent(Intent.ACTION_CALL, Uri.parse("tel:" + mobile));  
PhoneActivity.this.startActivity(intent);</code></pre>
                                <h3><a name="_Toc372628423">Window Phone中使用</a></h3>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    1.
添加引用
                                </p><pre><code>using Microsoft.Phone.Tasks;</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    2.
启动任务
                                </p><pre><code>phoneCallTask.DisplayName = "Gage";
phoneCallTask.Show();</code></pre>
                                <h2><a name="_Toc372628424">注意事项</a></h2>
                                <p>使用Windows Phone的电话功能与Android类似，需要先在manifest配置文件中设置允许使用电话相关功能，配置完成之后，即可使用三个平台不同的相关功能代码使用电话功能。Windows Phone修改配置文件只需要在“功能”选项卡下勾选上相应的项即可：</p>
                                <p class="imgp">
                                    <img border="0" width="488" height="148" id="图片 1"
                                        src="images/developing_19/image001.png">
                                </p>
                                <p class="imgp">
                                    <img border="0" width="553" height="258" id="图片 2"
                                        src="images/developing_19/image002.png">
                                </p>
                                <br />
                                <p>在 Windows Phone 模拟器中，发现的电话呼叫会始终保持连接，但是此连接是在模拟器中模拟执行的。模拟器使用假的 GSM 并且始终都具有假的用户身份识别模块 (SIM) 卡。</p>
                                <p>如果手机没有 SIM 卡，则应用程序会提示用户添加 SIM 卡。</p>
                                <h1><a name="_Toc372628425">使用短信功能</a></h1>
                                <h2><a name="_Toc372628426">概述</a></h2>
                                <p>使用短信撰写任务使用户可以通过应用程序发送消息。短信撰写任务启动“短信”应用程序，并显示一条新短信。您可以选择性地指定预填充新短信的收件人和消息正文。该消息在用户点按发送按键之后才会发送。</p>
                                <p>如果手机没有 SIM 卡，则在消息发送失败时，手机将会收到一条 Toast 通知。</p>
                                <h2><a name="_Toc372628427">使用</a></h2>
                                <h3><a name="_Toc372628428">IOS中的使用</a></h3><pre><code>[[UIApplication sharedApplication] openURL:[NSURL
URLWithString:@"sms://466453"]];</code></pre>
                                <h3><a name="_Toc372628429">Android中的使用</a></h3><pre><code>String msgnumber="smsto:"+"你的号码"; 
Intent intentM = new Intent(Intent.ACTION_SENDTO,Uri.parse(msgnumber));  
startActivity(intentM);</code></pre>
                                <h3><a name="_Toc372628430">Windows
Phone中的使用</a></h3>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    1.
添加引用
                                </p><pre><code>using Microsoft.Phone.Tasks;</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    2.
启动任务
                                </p><pre><code>smsComposeTask.To = "2065550123";
smsComposeTask.Body = "Try this new application. It's great!"; 
smsComposeTask.Show();</code></pre>
                                <h2><a name="_Toc372628431">注意事项</a></h2>
                                <p>在 Windows Phone 模拟器上，短信始终显示为成功发送，但实际并未发送消息。模拟器使用假的 GSM 并且始终都具有假的用户身份识别模块 (SIM) 卡。</p>
                                <h1><a name="_Toc372628432">使用浏览器</a></h1>
                                <h2><a name="_Toc372628433">Android</a></h2><pre><code>Uri uri = Uri.parse("http://www.google.com");
　　Intent it = new Intent(Intent.ACTION_VIEW,uri);
　　startActivity(it);</code></pre>
                                <h2><a name="_Toc372628434">IOS</a></h2><pre><code>[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"http://www.cnblogs.com/foxmin"]];</code></pre>
                                <h2><a name="_Toc372628435">Windows phone</a></h2>
                                <p>首先添加命名空间</p><pre><code>using System;
using Microsoft.Phone.Tasks;</code></pre>
                                <p>然后，在应用程序中的所需位置添加以下代码，例如按键点击事件中。为了测试此过程，可以将该代码放置在页面构造函数中。以下是启动任务的代码。</p><pre><code>webBrowserTask.Uri = new Uri("http://msdn.microsoft.com", UriKind.Absolute);

webBrowserTask.Show();</code></pre>
                                <h1><a name="_Toc372628436">打开电子邮件应用</a></h1>
                                <h2><a name="_Toc372628437">Android</a></h2><pre><code>Uri uri = Uri.parse("mailto:xxx@abc.com");
　　Intent it = new Intent(Intent.ACTION_SENDTO, uri);
　　startActivity(it);</code></pre>
                                <h2><a name="_Toc372628438">IOS</a></h2><pre><code>NSString *stringURL = @"mailto:test@example.com";
NSURL *url = [NSURL URLWithString:stringURL];
[[UIApplication sharedApplication] openURL:url];</code></pre>
                                <h2><a name="_Toc372628439">Windows phone</a></h2><pre><code>EmailComposeTask emailComposeTask = new EmailComposeTask();

emailComposeTask.Subject = "message subject";
emailComposeTask.Body = "message body";
emailComposeTask.To = "recipient@example.com";
emailComposeTask.Cc = "cc@example.com";
emailComposeTask.Bcc = "bcc@example.com";

emailComposeTask.Show();</code></pre>
                                <h1><a name="_Toc372628440">操作电话簿</a></h1>
                                <h2><a name="_Toc372628441">Android</a></h2>
                                <p>Android中，通讯录信息是以外部数据库的形式存在的，获取和操作通讯录信息需要用到ContentResolver。</p><pre><code>ContentResolver contentResolver = this.getContext().getContentResolver();
Uri uri = Uri.parse("content://com.android.contacts/contacts");
Cursor cursor = contentResolver.query(uri, null, null, null, null);
while(cursor.moveToNext()){
            // 获取联系人姓名
            StringBuilder sb = new StringBuilder();
            String contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));  
            String name = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)); 
            sb.append("contactId=").append(contactId).append(",name=").append(name);
            
            //获取联系人手机号码
            Cursor phones = contentResolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,  
                    null,  
                    ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = "+ contactId,  
                    null, null);  
            while(phones.moveToNext()){
                String phone = phones.getString(phones.getColumnIndex("data1")); 
                sb.append(",phone=").append(phone);
            }</code></pre>
                                <h2><a name="_Toc372628442">IOS</a></h2>
                                <p>首先获得地址簿句柄</p><pre><code>1.	#import <AddressBook/AddressBook.h>  
2.	AddressBookRef ab = AddressBookCreate();</code></pre>
                                <p>查询电话簿</p><pre><code>NSArray* array = (NSArray*)ABAddressBookCopyArrayOfAllPeople(ab);</code></pre>
                                <p>添加/删除 记录 </p><pre><code>1.	CFErrorRef err;  
2.	BOOL success =ABAddressBookAddRecord(ab, record, &err);//添加  
1.	CFErrorRef err;  
2.	BOOL success =ABAddressBookRemoveRecord(ab, record, &err);//删除</code></pre>
                                <h2><a name="_Toc372628443">Windows phone 8</a></h2>
                                <h4>选择电话号码</h4>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    1.
添加引用
                                </p><pre><code>using Microsoft.Phone.Tasks;</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    2.
启动任务
                                </p><pre><code>PhoneNumberChooserTask phoneNumberChooserTask;
phoneNumberChooserTask = new PhoneNumberChooserTask();
phoneNumberChooserTask.Completed += new EventHandler<PhoneNumberResult>(phoneNumberChooserTask_Completed);
phoneNumberChooserTask.Show();</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    3.
获取选择结果
                                </p><pre><code>void phoneNumberChooserTask_Completed(object sender, PhoneNumberResult e)
{
    if (e.TaskResult == TaskResult.OK)
    {
        MessageBox.Show("The phone number for " + e.DisplayName + " is " + e.PhoneNumber);

        //Code to start a new call using the retrieved phone number.
        //PhoneCallTask phoneCallTask = new PhoneCallTask();
        //phoneCallTask.DisplayName = e.DisplayName;
        //phoneCallTask.PhoneNumber = e.PhoneNumber;
        //phoneCallTask.Show();
    }
}</code></pre>
                                <h4>保存联系人</h4>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    1.
添加引用
                                </p><pre><code>using Microsoft.Phone.Tasks;</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    2.
启动任务
                                </p><pre><code>SaveContactTask saveContactTask;
saveContactTask = new SaveContactTask();
saveContactTask.Completed += new EventHandler<SaveContactResult>(saveContactTask_Completed);
saveContactTask.FirstName = "John";
saveContactTask.LastName = "Doe";
saveContactTask.MobilePhone = "2065550123";

saveContactTask.Show();</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    3.
获取保存结果
                                </p><pre><code>void saveContactTask_Completed(object sender, SaveContactResult e)
{
    switch (e.TaskResult)
    {
        //Logic for when the contact was saved successfully
        case TaskResult.OK:
            MessageBox.Show("Contact saved.");
            break;

        //Logic for when the task was cancelled by the user
        case TaskResult.Cancel:
            MessageBox.Show("Save cancelled.");
            break;

        //Logic for when the contact could not be saved
        case TaskResult.None:
            MessageBox.Show("Contact could not be saved.");
            break;
    }
}</code></pre>
                                <h4>保存电话号码</h4>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    1.
添加引用
                                </p><pre><code>using Microsoft.Phone.Tasks;</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    2.
启动任务
                                </p><pre><code>SavePhoneNumberTask savePhoneNumberTask;
savePhoneNumberTask = new SavePhoneNumberTask();
savePhoneNumberTask.Completed += new EventHandler<TaskEventArgs>(savePhoneNumberTask_Completed);
savePhoneNumberTask.PhoneNumber = "2065550123";

savePhoneNumberTask.Show();</code></pre>
                                <p class="MsoListParagraph" style='margin-left: 45.0pt;'>
                                    3.
获取保存结果
                                </p><pre><code>void savePhoneNumberTask_Completed(object sender, TaskEventArgs e)
{
    switch (e.TaskResult)
    {
        //Logic for when the number was saved successfully
        case TaskResult.OK:
            MessageBox.Show("Phone number saved.");
            break;
        //Logic for when the task was cancelled by the user
        case TaskResult.Cancel:
            MessageBox.Show("Save cancelled.");
            break;
        //Logic for when the number could not be saved
        case TaskResult.None:
            MessageBox.Show("Phone number could not be saved.");
            break;
    }
}</code></pre>
                                <h1><a name="_Toc372628444"></a><a name="_Toc368566544">另请参见</a></h1>
                                <p>
                                    <a
                                        href="http://msdn.microsoft.com/zh-CN/library/windowsphone/develop/ff769542(v=vs.105).aspx">Windows Phone 启动器和选择器</a>
                                </p>
                                <p>
                                    <a
                                        href="http://msdn.microsoft.com/zh-CN/library/windowsphone/develop/hh394025(v=vs.105).aspx">如何使用
Windows Phone 的手机通话任务</a>
                                </p>
                                <p>
                                    <a
                                        href="http://msdn.microsoft.com/zh-CN/library/windowsphone/develop/hh394005(v=vs.105).aspx">如何使用
Windows Phone 的 SMS 撰写任务</a>
                                </p>
                                <p>
                                    <a
                                        href="http://msdn.microsoft.com/zh-cn/library/windowsphone/develop/ff769543(v=vs.105).aspx">Windows Phone 选择器</a>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <!--End Content-->
        <div style="text-align: right" class="gotoTop"><a href="javascript:scroll(0,0)"></a></div>
        <!--Begin ProudctLinks-->
        <div class="ms-pro-links">
            <div class="grid-container clearfix">
                <div class="cam-links">
                    其它微软站点
		<a href="http://www.microsoft.com/zh-cn/default.aspx">微软中国官方网站</a>
                    <a href="http://www.microsoft.com/zh-cn/download/default.aspx?WT.mc_id=MSCOM_zh-cn_HP_Footer_downloads" target="_blank">微软中国下载中心</a>
                    <a href="http://www.microsoftstore.com.cn?WT.mc_id=MSCOM_003" target="_blank">微软中国官方商城</a>
                    <a href="http://www.microsoft.com/china/newsletter/" target="_blank">订阅电子期刊</a>
                    <a href="https://sales.liveperson.net/hc/21661174/?cmd=file&file=visitorWantsToChat&site=21661174&byhref=1&SESSIONVAR!skill=APGC.PRC.ZH.CS.CON.PRESLS.GENERAL" target="_blank">联系微软销售代表</a>
                    <a href="http://www.microsoft.com/zh-cn/sitemap.aspx" target="_blank">网站地图</a>
                </div>
            </div>
        </div>
        <!--End ProudctLinks-->
        <!--Begin footer-->
        <div class="footer">
            <div class="grid-container">
                <img src="http://i.s-microsoft.com/global/ImageStore/PublishingImages/logos/hp/logo-type-1x.png" alt="microsoft" class="logo">
                <ul>
                    <li><a href="http://www.miibeian.gov.cn/" title="">京ICP备09042378号-6</a></li>
                    <li><a href="https://profile.microsoft.com/RegSysProfileCenter/default.aspx?lcid=2052" title="">个人信息中心</a></li>
                    <li><a href="http://support.microsoft.com/contactus/?ws=support" title="">与我们联系</a></li>
                    <li><a href="http://go.microsoft.com/fwlink/?LinkId=248681" title="">隐私权声明</a></li>
                    <li><a href="http://go.microsoft.com/?linkid=4412892" title="">使用条款</a></li>
                    <li><a href="http://www.microsoft.com/About/Legal/EN/US/IntellectualProperty/Trademarks/EN-US.aspx" title="">商标</a></li>
                    <li>&copy; 2013 Microsoft</li>
                </ul>
            </div>
        </div>
        <!--End footer-->
        <!-- Begin MDA WEDCS -->
        <script type="text/JavaScript">
            var varSegmentation = 0;
            var varClickTracking = 1;
            var varCustomerTracking = 1;
            var varAutoFirePV = 1;
            var Route = "#";
            var Ctrl = "#"
            //document.write("<script type='text/javascript' src='" + window.location.protocol + "//c.microsoft.com/ms.js'><"+"/script>");
        </script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="./assets/js/script.js"></script>
        <script type="text/javascript" src="./js/siteSearch.js"></script>
        <noscript>
            <img alt="" width="1" height="1" src="http://c.microsoft.com/trans_pixel.aspx/" />
        </noscript>
        <!-- Begin MDA WEDCS -->
    </div>
</body>
</html>
